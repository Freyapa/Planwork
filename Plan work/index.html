<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô</title>
  <style>
    body {
      font-family: 'Prompt', sans-serif;
      background: linear-gradient(to right, #e0f7fa, #fff);
      padding: 20px;
      animation: fadeIn 1s ease-in;
      
    }
    h1, h2 {
      text-align: center;
      color: #00796b;
    }
    table {
      width: 100%;
      min-width: 1200px;
      border-collapse: collapse;
      margin-top: 20px;
      animation: slideIn 1s ease-out;
    }
    th, td {
      border: 1px solid #aaa;
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: #00796b;
      color: white;
    }
    .status-done { background-color: #b03b14; }
    .status-progress { background-color: #fff59d; }
    .status-completed { background-color: #81d4fa; }
    .status-red { color: red; font-weight: bold; }
    nav {
      text-align: center;
      margin-bottom: 20px;
    }
    nav select, nav a {
      margin: 0 10px;
      font-weight: bold;
    }
    .page {
      display: none;
    }
    .page.active {
      display: block;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideIn {
      from { transform: translateY(-20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    button {
      background-color: #00796b;
      color: white;
      border: none;
      padding: 10px 20px;
      margin: 5px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: transform 0.2s, background-color 0.3s;
    }
    button:hover {
      background-color: #004d40;
      transform: scale(1.05);
    }
    button:active {
      transform: scale(0.98);
    }
  </style>
</head>
<body>
  <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</h1>
  <nav>
    <select id="monthSelect" onchange="renderTable()">
      <option value="01">‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°</option>
      <option value="02">‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå</option>
      <option value="03">‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°</option>
      <option value="04">‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô</option>
      <option value="05">‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏°</option>
      <option value="06">‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô</option>
      <option value="07">‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏°</option>
      <option value="08">‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏°</option>
      <option value="09">‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô</option>
      <option value="10">‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°</option>
      <option value="11">‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô</option>
      <option value="12">‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏°</option>
    </select>
    <a href="#" onclick="showPage('add')">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô</a>
    <a href="#" onclick="showPage('table')">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô</a>
    <a href="#" onclick="showPage('tableByDate')">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</a>
    <a href="#" onclick="showPage('schedule')">üìö ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</a>
  </nav>

   
  <div id="add" class="page active">
    <h2 style="color: rgb(from color r g b);">üìù ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
    <form onsubmit="addPlan(event)">
      <label>‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô: <input type="text" id="planName" required></label><br><br>
      <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°: <input type="date" id="startDate" required></label>
      <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡πá‡∏à: <input type="date" id="endDate" required></label><br><br>
      <label>‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤: <input type="time" id="timeIn"></label>
      <label>‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å: <input type="time" id="timeOut"></label><br><br>
      <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: 
        <select id="planStatus">
          <option value="status-done">‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</option>
          <option value="status-progress">‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≥</option>
          <option value="status-completed">‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå</option>
        </select>
      </label><br><br>
      <label>‡∏õ‡∏±‡∏ç‡∏´‡∏≤: <input type="text" id="problem"></label><br><br>
      <label>‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: <input type="text" id="solution"></label><br><br>
      <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: <input type="text" id="studentName"></label>
      <label>‡∏ß‡∏¥‡∏ä‡∏≤: <input type="text" id="subject"></label>
      <label>‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠: <input type="text" id="topic"></label><br><br>
      <button type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô</button>
    </form>
  </div>
  

  <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏î‡∏∑‡∏≠‡∏ô -->
  <div id="table" class="page">
    <h2>üìÖ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô</h2>
    <button onclick="downloadPDF()">üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î PDF</button>
    <table id="planTable">
      <thead>
        <tr>
          <th>‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô</th>
          <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
          <th>‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</th>
          <th>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ (‡∏ß‡∏±‡∏ô)</th>
          <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
          <th>‡∏õ‡∏±‡∏ç‡∏´‡∏≤</th>
          <th>‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</th>
          <th>‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</th>
          <th>‡∏ß‡∏¥‡∏ä‡∏≤</th>
          <th>‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</th>
          <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
        </tr>
      </thead>
      <tbody id="planTableBody"></tbody>
    </table>
  </div>

  <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà -->
  <div id="tableByDate" class="page">
    <h2>üìÜ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</h2>
    <table>
      <thead>
        <tr>
          <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</th>
          <th>‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô</th>
          <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏° - ‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</th>
          <th>‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</th>
          <th>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤</th>
          <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
          <th>‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</th>
        </tr>
      </thead>
      <tbody id="tableByDateBody"></tbody>
    </table>
  </div>
  <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô <div class="page"> ‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà -->
<div id="schedule" class="page">
  <h2>üìö ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h2>
  <form onsubmit="addSchedule(event)">
    <label>‡∏ß‡∏±‡∏ô:
      <select id="teachDay" required>
        <option value="‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£">‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£</option>
        <option value="‡∏û‡∏∏‡∏ò">‡∏û‡∏∏‡∏ò</option>
        <option value="‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ">‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ</option>
        <option value="‡∏®‡∏∏‡∏Å‡∏£‡πå">‡∏®‡∏∏‡∏Å‡∏£‡πå</option>
        <option value="‡πÄ‡∏™‡∏≤‡∏£‡πå">‡πÄ‡∏™‡∏≤‡∏£‡πå</option>
        <option value="‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå">‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå</option>
      </select>
    </label>
    <label>‡πÄ‡∏ß‡∏•‡∏≤: <input type="time" id="teachTime" required></label>
    <label>‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤:
      <select id="subjectType" required>
        <option value="Scratch">Scratch</option>
        <option value="Microbit">Microbit</option>
      </select>
    </label>
    <label>‡∏£‡∏∞‡∏î‡∏±‡∏ö: <input type="text" id="level" required></label>
    <label>‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: <input type="text" id="student" required></label>
    <label>‡∏Ñ‡∏£‡∏π‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ô: <input type="text" id="teacher" required></label>
    <button type="submit">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô</button>
  </form>

  <table>
    <thead>
      <tr>
        <th>‡∏ß‡∏±‡∏ô</th>
        <th>‡πÄ‡∏ß‡∏•‡∏≤</th>
        <th>‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤</th>
        <th>‡∏£‡∏∞‡∏î‡∏±‡∏ö</th>
        <th>‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</th>
        <th>‡∏Ñ‡∏£‡∏π‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ô</th>
        <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
      </tr>
    </thead>
    <tbody id="scheduleTableBody"></tbody>
  </table>
</div>

<!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô <script> section ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î -->
<script>
  let schedules = JSON.parse(localStorage.getItem('schedules')) || [];
  let editScheduleIndex = null;

  function renderScheduleTable() {
    const tbody = document.getElementById('scheduleTableBody');
    tbody.innerHTML = '';
    schedules.forEach((s, i) => {
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${s.day}</td>
        <td>${s.time}</td>
        <td>${s.subject}</td>
        <td>${s.level}</td>
        <td>${s.student}</td>
        <td>${s.teacher}</td>
        <td>
          <button onclick="editSchedule(${i})">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
          <button onclick="deleteSchedule(${i})">‡∏•‡∏ö</button>
        </td>
      `;
      tbody.appendChild(row);
    });
  }

  function addSchedule(event) {
    event.preventDefault();
    const s = {
      day: document.getElementById('teachDay').value,
      time: document.getElementById('teachTime').value,
      subject: document.getElementById('subjectType').value,
      level: document.getElementById('level').value,
      student: document.getElementById('student').value,
      teacher: document.getElementById('teacher').value
    };

    if (editScheduleIndex !== null) {
      schedules[editScheduleIndex] = s;
      editScheduleIndex = null;
      alert("‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢");
    } else {
      schedules.push(s);
      alert("‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
    }

    localStorage.setItem('schedules', JSON.stringify(schedules));
    event.target.reset();
    renderScheduleTable();
  }

  function editSchedule(index) {
    const s = schedules[index];
    document.getElementById('teachDay').value = s.day;
    document.getElementById('teachTime').value = s.time;
    document.getElementById('subjectType').value = s.subject;
    document.getElementById('level').value = s.level;
    document.getElementById('student').value = s.student;
    document.getElementById('teacher').value = s.teacher;

    editScheduleIndex = index;
  }

  function deleteSchedule(index) {
    if (confirm("‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) {
      schedules.splice(index, 1);
      localStorage.setItem('schedules', JSON.stringify(schedules));
      renderScheduleTable();
    }
  }

  // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
  window.onload = () => {
    const currentMonth = new Date().toISOString().slice(5, 7);
    document.getElementById('monthSelect').value = currentMonth;
    renderTable();
    renderScheduleTable(); // ‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≠‡∏ô
  };
</script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script>
    let plans = JSON.parse(localStorage.getItem('plans')) || [];
    let editIndex = null;

    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById(pageId).classList.add('active');
      if (pageId === 'table') renderTable();
      if (pageId === 'tableByDate') renderTableByDate();
    }

    function addPlan(event) {
      event.preventDefault();
      const startDate = document.getElementById('startDate').value;
      const endDate = document.getElementById('endDate').value;

      if (new Date(endDate) < new Date(startDate)) {
        alert('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô');
        return;
      }

      const plan = {
        name: document.getElementById('planName').value,
        start: startDate,
        end: endDate,
        timeIn: document.getElementById('timeIn').value,
        timeOut: document.getElementById('timeOut').value,
        status: document.getElementById('planStatus').value,
        problem: document.getElementById('problem').value,
        solution: document.getElementById('solution').value,
        student: document.getElementById('studentName').value,
        subject: document.getElementById('subject').value,
        topic: document.getElementById('topic').value,
        month: startDate.slice(5, 7),
        createdAt: new Date().toISOString().split('T')[0] // ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
      };

      if (editIndex !== null) {
        plans[editIndex] = plan;
        editIndex = null;
        alert("‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
      } else {
        plans.push(plan);
        alert("‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
      }

      localStorage.setItem('plans', JSON.stringify(plans));
      event.target.reset();
      showPage('table');
    }

    function renderTable() {
      const month = document.getElementById('monthSelect').value;
      const tbody = document.getElementById('planTableBody');
      tbody.innerHTML = '';

      const statusMap = {
        'status-done': '‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à',
        'status-progress': '‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≥',
        'status-completed': '‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå',
        'status-unfinish':'‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à'
      };

      plans.filter(p => p.month === month).forEach((p, i) => {
        const diffDays = Math.ceil((new Date(p.end) - new Date(p.start)) / (1000 * 60 * 60 * 24)) + 1;
        const row = document.createElement('tr');
        row.className = p.status;
        row.innerHTML = `
          <td>${p.name}</td>
          <td>${p.start} - ${p.end}</td>
          <td>${p.timeIn} - ${p.timeOut}</td>
          <td>${diffDays} ‡∏ß‡∏±‡∏ô</td>
          <td>${statusMap[p.status]}</td>
          <td>${p.problem}</td>
          <td>${p.solution}</td>
          <td>${p.student}</td>
          <td>${p.subject}</td>
          <td>${p.topic}</td>
          <td>
            <button onclick="editPlan(${i})">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
            <button onclick="deletePlan(${i})">‡∏•‡∏ö</button>
          </td>
        `;
        tbody.appendChild(row);
      });
    }

    function renderTableByDate() {
      const tbody = document.getElementById('tableByDateBody');
      tbody.innerHTML = '';

      const grouped = {};
      plans.forEach(p => {
        if (!grouped[p.createdAt]) grouped[p.createdAt] = [];
        grouped[p.createdAt].push(p);
      });

      Object.keys(grouped).sort().forEach(date => {
        grouped[date].forEach(p => {
          const diffDays = Math.ceil((new Date(p.end) - new Date(p.start)) / (1000 * 60 * 60 * 24)) + 1;
          const row = document.createElement('tr');
          row.innerHTML = `
                       <td>${date}</td>
            <td>${p.name}</td>
            <td>${p.start} - ${p.end}</td>
            <td>${p.timeIn} - ${p.timeOut}</td>
            <td>${diffDays} ‡∏ß‡∏±‡∏ô</td>
            <td>${p.status}</td>
            <td>${p.student}</td>
          `;
          tbody.appendChild(row);
        });
      });
    }

    function editPlan(index) {
      const p = plans[index];
      document.getElementById('planName').value = p.name;
      document.getElementById('startDate').value = p.start;
      document.getElementById('endDate').value = p.end;
      document.getElementById('timeIn').value = p.timeIn;
      document.getElementById('timeOut').value = p.timeOut;
      document.getElementById('planStatus').value = p.status;
      document.getElementById('problem').value = p.problem;
      document.getElementById('solution').value = p.solution;
      document.getElementById('studentName').value = p.student;
      document.getElementById('subject').value = p.subject;
      document.getElementById('topic').value = p.topic;

      editIndex = index;
      showPage('add');
    }

    function deletePlan(index) {
      if (confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) {
        plans.splice(index, 1);
        localStorage.setItem('plans', JSON.stringify(plans));
        renderTable();
        renderTableByDate();
      }
    }

    function downloadPDF() {
      const element = document.getElementById('planTable');
      const opt = {
        margin:       0.3,
        filename:     '‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô.pdf',
        image:        { type: 'jpeg', quality:4},
        html2canvas:  { scale: 4 },
        jsPDF:        { unit: 'in', format: 'a4', orientation: 'landscape' }
      };
      html2pdf().set(opt).from(element).save();
    }
  
  </script>
  
</body>
</html> 



